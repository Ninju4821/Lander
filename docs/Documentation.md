# Latest documentation for Lander

## Code

### [index.html](/index.html)
 - Holds the div element with landing information
 - Holds css information
 - Holds the canvas element generated by [main.js](/main.js)

### [main.js](/main.js)
 - Holds variables necessary for basic game functions
 - Holds game window information
#### Initialization function {`init`}
 - Resets tracking variables
 - Makes the objects necessary for the game
 - Randomizes lander {`square`} starting values
 - Resets the landing info div
 - Resets the path and confetti
#### Loop function {`loop`}
 - Clears the game window and increment frame counter
 - Calls the Update function
 - Updates the internal position of all objects and redraws them
#### Update function (Update)
 - Applies gravity to the lander
 - Applies gravity and air resistance to each confetti
 - Takes player input and applies it to the lander (also handles confetti disabling)
 - Updates the flip detector {`flipAngle`} variable
 - Checks for flips in either direction
 -- Increments flip counter {`flips`}
 -- Spawns confetti
 - Updates the position of each path point based on lander's movement + gravity per step
 - Updates text objects based on lander variables
 - Loops lander across screen and increments loop counter {`loops`}
 - Removes confetti that collides with the ground
 - Checks for lander condition when it collides with the ground
 -- If landed, scores landing and displays landing info.
 -- If crashed, scores crash and displays crash info.
 -- Checks for spacebar press to restart game
 - Keeps the game window sized correctly
#### Util functions (everyinterval,max,min)
 - {`everyinterval(n)`} returns true when the frame number is equal to n
 - {`max(a,b)`} returns the larger number of a and b
 - {`min(a,b)`} returns the smaller number of a and b

### [objects.js](/objects.js)
#### GameObject class {`GameObject`}
 - Holds position and size values
 - Holds {`update`} function to redraw objects
#### Lander class {`Player`}
 - Holds position and size values
 - Holds angle values
 - Holds speed and torque values
 - Holds {`update`} function to redraw lander
 - Holds {`addSpeed`} function to add speed to the lander in the direction it is facing
 - Holds {`newPos`} function to move and rotate the lander based on its speed and torque
 - Holds {`crashWith`} function to detect crashes with game objects
 - (Is also used for confetti)
#### Path class {`Path`}
 - Holds a list of points
 - Holds {`update`} function to draw the path
#### PathPoint class {`PathPoint`}
 - Holds position information
 - Holds path edge variable
#### Text class {`Text`}
 - Holds position info
 - Holds font and text info
 - Holds {`update`} function to redraw text
 - Holds {`changeText`} function to change internal text


## Controls

 - W/Up Arrow - Accelerate in the direction the lander is facing
 - A/Left Arrow and D/Right Arrow - Rotate the lander
 - C - Clear all confetti and stop spawning it (reset on a page reload)